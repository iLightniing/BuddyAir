@import "tailwindcss";

@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;

  --color-ui-content: var(--ui-content);
  --color-ui-content-muted: var(--ui-content-muted);
  --color-ui-border: var(--ui-border);
  --color-ui-surface: var(--ui-surface);
  --color-ui-surface-muted: var(--ui-surface-muted);

  --animate-shimmer: shimmer 1.5s infinite linear;
  @keyframes shimmer {
    from { transform: translateX(-150%) skewX(-20deg); }
    to { transform: translateX(150%) skewX(-20deg); }
  }
}

:root {
  --ui-content: #334155;       /* Slate 700 - Un bleu-gris profond et doux pour les yeux */
  --ui-content-muted: #64748b; /* Slate 500 */
  --ui-border: #e2e8f0;        /* Slate 200 - Bordures discrètes */
  --ui-surface: #f8fafc;       /* Slate 50 - Un blanc "glacé" très léger pour les inputs */
  --ui-surface-muted: #f1f5f9; /* Slate 100 - Un fond "neige" très reposant */
}

@layer base {
  body {
    @apply font-sans antialiased;
    /* Réserve l'espace de la scrollbar pour éviter les sauts horizontaux */
    scrollbar-gutter: stable;
  }
}

.bg-app-wallpaper {
  background-image: url('../images/hiver2026.png');
}

/* Sidebar d'authentification */
.auth-sidebar {
  @apply absolute top-0 right-0 h-full w-full md:w-[640px] z-20 bg-ui-surface-muted border-l border-ui-border flex flex-col px-10 md:px-14 pt-8 md:pt-10 pb-6 md:pb-8 shadow-2xl overflow-y-auto;
  /* Évite le décalage de l'icône quand le formulaire devient long */
  scrollbar-gutter: stable;
}

/* Animation de transition pour le contenu des pages */
.auth-slide-enter-active,
.auth-slide-leave-active {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Empêche le dédoublement visuel pour auth-slide */
.auth-slide-leave-active {
  position: absolute;
  width: 100%;
}

.auth-slide-enter-from { opacity: 0; }
.auth-slide-leave-to { opacity: 0; }

/* Transitions globales Nuxt (Fix double rendu / stacking) */
.page-enter-active,
.page-leave-active,
.layout-enter-active,
.layout-leave-active {
  /* On reste sur une transition d'opacité pure pour la stabilité */
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity;
  backface-visibility: hidden;
}

/* L'élément qui arrive est placé au-dessus */
.page-enter-active,
.layout-enter-active {
  z-index: 1;
}

.page-enter-from,
.page-leave-to,
.layout-enter-from,
.layout-leave-to {
  opacity: 0;
}

/* Transition interne ultra-rapide pour le contenu (Comptes, etc.) */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}